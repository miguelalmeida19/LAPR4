<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="718px" preserveAspectRatio="none" style="width:2426px;height:718px;background:#FCF9EA;" version="1.1" viewBox="0 0 2426 718" width="2426px" zoomAndPan="magnify"><defs><filter height="300%" id="f1sn4o3tbziswn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#F8A978" font-family="Arial Black" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="369" x="1026.25" y="45.0176">SEQUENCE DIAGRAM</text><text fill="#F8A978" font-family="Arial Black" font-size="30" lengthAdjust="spacing" textLength="0" x="1215.75" y="87.3223"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="425.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="39" y="198.2188"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="327" y="220.5703"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="342.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="327" y="281.2734"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="342.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="943" y="281.2734"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="281.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1611" y="341.9766"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1799" y="372.3281"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1799" y="433.0313"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="90.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1950" y="402.6797"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2104.5" y="463.3828"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2104.5" y="554.0859"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="100.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2370" y="523.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="44" x2="44" y1="188.2188" y2="632.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="332" x2="332" y1="188.2188" y2="632.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="948" x2="948" y1="188.2188" y2="632.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1616" x2="1616" y1="188.2188" y2="632.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1804" x2="1804" y1="188.2188" y2="632.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1955" x2="1955" y1="188.2188" y2="632.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2109" x2="2109" y1="188.2188" y2="632.7891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2374.5" x2="2374.5" y1="188.2188" y2="632.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="5" y="185.1426">Sales Clerk</text><ellipse cx="44" cy="113.6094" fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M44,121.6094 L44,148.6094 M31,129.6094 L57,129.6094 M44,148.6094 L31,163.6094 M44,148.6094 L57,163.6094 " fill="none" filter="url(#f1sn4o3tbziswn)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="5" y="646.3223">Sales Clerk</text><ellipse cx="44" cy="659.3984" fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M44,667.3984 L44,694.3984 M31,675.3984 L57,675.3984 M44,694.3984 L31,709.3984 M44,694.3984 L57,709.3984 " fill="none" filter="url(#f1sn4o3tbziswn)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="144" x="258" y="151.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="265" y="173.1426">:RegisterCustomerUI</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="144" x="258" y="631.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="265" y="653.3223">:RegisterCustomerUI</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="166" x="863" y="151.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="870" y="173.1426">:AddCustomerController</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="166" x="863" y="631.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="870" y="653.3223">:AddCustomerController</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="208" x="1510" y="151.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="1517" y="173.1426">:CustomerManagementService</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="208" x="1510" y="631.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="1517" y="653.3223">:CustomerManagementService</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="140" x="1732" y="151.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1739" y="173.1426">:PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="140" x="1732" y="631.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1739" y="653.3223">:PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="134" x="1886" y="151.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1893" y="173.1426">:RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="134" x="1886" y="631.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1893" y="653.3223">:RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="147" x="2034" y="151.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="2041" y="173.1426">:CustomerRepository</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="147" x="2034" y="631.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="2041" y="653.3223">:CustomerRepository</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="79" x="2333.5" y="151.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="2340.5" y="173.1426">:Customer</text><rect fill="#FEFECE" filter="url(#f1sn4o3tbziswn)" height="31.6094" rx="10" ry="10" style="stroke:#A80036;stroke-width:1.5;" width="79" x="2333.5" y="631.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="2340.5" y="653.3223">:Customer</text><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="425.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="39" y="198.2188"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="327" y="220.5703"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="342.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="327" y="281.2734"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="342.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="943" y="281.2734"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="281.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1611" y="341.9766"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1799" y="372.3281"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1799" y="433.0313"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="90.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1950" y="402.6797"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2104.5" y="463.3828"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2104.5" y="554.0859"/><rect fill="#FFFFFF" filter="url(#f1sn4o3tbziswn)" height="100.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2370" y="523.7344"/><polygon fill="#FFC5A1" points="315,216.5703,325,220.5703,315,224.5703,319,220.5703" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;" x1="49" x2="321" y1="220.5703" y2="220.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="56" y="215.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="67" y="215.7139">Requires to add a new customer</text><polygon fill="#FFC5A1" points="60,246.9219,50,250.9219,60,254.9219,56,250.9219" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="331" y1="250.9219" y2="250.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="66" y="246.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="77" y="246.0654">Asks the required data</text><polygon fill="#FFC5A1" points="315,277.2734,325,281.2734,315,285.2734,319,281.2734" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;" x1="49" x2="321" y1="281.2734" y2="281.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="56" y="276.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="67" y="276.417">types the data.</text><polygon fill="#FFC5A1" points="931,307.625,941,311.625,931,315.625,935,311.625" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337" x2="937" y1="311.625" y2="311.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="344" y="306.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="355" y="306.7686">create()</text><polygon fill="#FFC5A1" points="931,337.9766,941,341.9766,931,345.9766,935,341.9766" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="337" x2="937" y1="341.9766" y2="341.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="344" y="337.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="571" x="355" y="337.1201">AddCustomer(customerId,firstName,lastName,vat,email,phoneNumber,addresses,gender,birthDate)</text><polygon fill="#FFC5A1" points="1599,368.3281,1609,372.3281,1599,376.3281,1603,372.3281" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="953" x2="1605" y1="372.3281" y2="372.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="960" y="367.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="971" y="367.4717">create()</text><polygon fill="#FFC5A1" points="1792,398.6797,1802,402.6797,1792,406.6797,1796,402.6797" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1621" x2="1798" y1="402.6797" y2="402.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1628" y="397.8232">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="1639" y="397.8232">repositories()</text><polygon fill="#FFC5A1" points="1938,429.0313,1948,433.0313,1938,437.0313,1942,433.0313" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1809" x2="1944" y1="433.0313" y2="433.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1816" y="428.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1827" y="428.1748">create()</text><polygon fill="#FFC5A1" points="2092.5,459.3828,2102.5,463.3828,2092.5,467.3828,2096.5,463.3828" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1960" x2="2098.5" y1="463.3828" y2="463.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1967" y="458.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1978" y="458.5264">create()</text><polygon fill="#FFC5A1" points="1599,519.7344,1609,523.7344,1599,527.7344,1603,523.7344" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="953" x2="1605" y1="523.7344" y2="523.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="960" y="518.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="616" x="978" y="518.8779">registerNewCustomer(customerId,firstName,lastName,vat,email,phoneNumber,addresses,gender,birthDate)</text><polygon fill="#FFC5A1" points="2358,550.0859,2368,554.0859,2358,558.0859,2362,554.0859" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1621" x2="2364" y1="554.0859" y2="554.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1628" y="549.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="707" x="1646" y="549.2295">newCustomer= registerNewCustomer(customerId,firstName,lastName,vat,email,phoneNumber,addresses,gender,birthDate)</text><polygon fill="#FFC5A1" points="2097.5,580.4375,2107.5,584.4375,2097.5,588.4375,2101.5,584.4375" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1621" x2="2103.5" y1="584.4375" y2="584.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1628" y="579.5811">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1646" y="579.5811">save(newCustomer)</text><polygon fill="#FFC5A1" points="60,610.7891,50,614.7891,60,618.7891,56,614.7891" style="stroke:#FFC5A1;stroke-width:1.0;"/><line style="stroke:#FFC5A1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="326" y1="614.7891" y2="614.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="66" y="609.9326">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="84" y="609.9326">shows success or failure of the operation</text><!--MD5=[34f1d8b1b0809d036d6b6d98a90fc80a]
@startuml
' ======= layout =========
skinparam backgroundColor #fcf9ea
skinparam titleBorderRoundCorner 15
skinparam titleFontSize 30
skinparam classAttributeIconSize 0
skinparam titleFontName Arial Black
skinparam titleFontColor #f8a978
skinparam roundcorner 20
skinparam stereotypeCBackgroundColor ffc5a1
skinparam class {

ArrowColor ffc5a1
BorderColor White
BackgroundColor badfdb
}


' ======= title =========
title <b>SEQUENCE DIAGRAM\n
autonumber
actor "Sales Clerk" as sales

participant ":RegisterCustomerUI" as UI
participant ":AddCustomerController" as Controller
participant ":CustomerManagementService" as Serv
participant ":PersistenceContext" as Pers
participant ":RepositoryFactory" as Fac
participant ":CustomerRepository" as REP
participant ":Customer" as Cust


activate sales
sales -> UI : Requires to add a new customer
activate UI
sales <- - UI :Asks the required data
deactivate UI
sales -> UI :types the data.
activate UI
activate "Controller"
"UI" - -> Controller : create()
"UI" - -> Controller : AddCustomer(customerId,firstName,lastName,vat,email,phoneNumber,addresses,gender,birthDate)
activate Serv
Controller - -> Serv : create()

activate Pers
"Serv" - -> Pers : repositories()
deactivate Pers
activate Fac
Pers - -> Fac : create()
activate Pers
Fac - -> REP : create()
activate REP
deactivate REP
deactivate Fac
deactivate Pers
Controller - -> Serv : registerNewCustomer(customerId,firstName,lastName,vat,email,phoneNumber,addresses,gender,birthDate)
activate Cust
Serv - -> Cust: newCustomer= registerNewCustomer(customerId,firstName,lastName,vat,email,phoneNumber,addresses,gender,birthDate)
activate REP
Serv - -> REP: save(newCustomer)
deactivate REP


UI - -> sales : shows success or failure of the operation

@enduml

@startuml
skinparam backgroundColor #fcf9ea
skinparam titleBorderRoundCorner 15
skinparam titleFontSize 30
skinparam classAttributeIconSize 0
skinparam titleFontName Arial Black
skinparam titleFontColor #f8a978
skinparam roundcorner 20
skinparam stereotypeCBackgroundColor ffc5a1
skinparam class {

ArrowColor ffc5a1
BorderColor White
BackgroundColor badfdb
}


title <b>SEQUENCE DIAGRAM\n
autonumber
actor "Sales Clerk" as sales

participant ":RegisterCustomerUI" as UI
participant ":AddCustomerController" as Controller
participant ":CustomerManagementService" as Serv
participant ":PersistenceContext" as Pers
participant ":RepositoryFactory" as Fac
participant ":CustomerRepository" as REP
participant ":Customer" as Cust


activate sales
sales -> UI : Requires to add a new customer
activate UI
sales <- - UI :Asks the required data
deactivate UI
sales -> UI :types the data.
activate UI
activate "Controller"
"UI" - -> Controller : create()
"UI" - -> Controller : AddCustomer(customerId,firstName,lastName,vat,email,phoneNumber,addresses,gender,birthDate)
activate Serv
Controller - -> Serv : create()

activate Pers
"Serv" - -> Pers : repositories()
deactivate Pers
activate Fac
Pers - -> Fac : create()
activate Pers
Fac - -> REP : create()
activate REP
deactivate REP
deactivate Fac
deactivate Pers
Controller - -> Serv : registerNewCustomer(customerId,firstName,lastName,vat,email,phoneNumber,addresses,gender,birthDate)
activate Cust
Serv - -> Cust: newCustomer= registerNewCustomer(customerId,firstName,lastName,vat,email,phoneNumber,addresses,gender,birthDate)
activate REP
Serv - -> REP: save(newCustomer)
deactivate REP


UI - -> sales : shows success or failure of the operation

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>